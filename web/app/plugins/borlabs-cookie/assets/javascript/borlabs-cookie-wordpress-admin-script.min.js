jQuery(document).ready((function(){!function(a){if(a("#BorlabsCookie").length){var e;a(document).off(".button.data-api"),a(document).on("click","[data-toggle='button']",(function(){a(this).hasClass("active")?(this.setAttribute("aria-pressed",!1),a(this).removeClass("active")):(this.setAttribute("aria-pressed",!0),a(this).addClass("active"))})),a("#BorlabsCookie [data-toggle='tooltip']").borlabsBootstrapTooltip({container:"#BorlabsCookie",html:!0}),function(){"use strict";var e=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(e,(function(e){e.addEventListener("submit",(function(t){!1===e.checkValidity()&&(t.preventDefault(),t.stopPropagation(),void 0!==a(":invalid")[1]&&a("html, body").animate({scrollTop:a(a(":invalid")[1]).parent().offset().top-a(a(":invalid")[1]).parent()[0].offsetHeight},1e3)),e.classList.add("was-validated")}),!1)}))}(),a("#BorlabsCookie .color-field").wpColorPicker(),a("#BorlabsCookie [data-media-picker]").on("click",(function(t){t.preventDefault();var o=this;e&&e.off("select"),(e=wp.media({title:o.dataset.mediaTitle,button:{text:o.dataset.mediaButton},library:{type:["image"]},multiple:!1})).on("select",(function(){var t=e.state().get("selection").first().toJSON();a("#"+o.dataset.mediaPreview).html("<img src='"+t.url+'\' alt="">'),a("#"+o.dataset.mediaPicker).val(t.url)})),e.open()})),a("#BorlabsCookie [data-media-clear]").on("click",(function(e){e.preventDefault(),a("#"+this.dataset.mediaPreview).html(""),a("#"+this.dataset.mediaClear).val("")})),a("#BorlabsCookie [data-switch-target]").on("click",(function(){if(a(this).hasClass("active")?a("#"+this.dataset.switchTarget).val("0"):a("#"+this.dataset.switchTarget).val("1"),void 0!==this.dataset.disable)for(var e=this.dataset.disable.split(","),t=!1===a(this).hasClass("active")&&"true"===this.dataset.disableOn||!0===a(this).hasClass("active")&&"false"===this.dataset.disableOn,o=0;o<e.length;o++)a("#"+e[o]).attr("disabled",t)})),a("#BorlabsCookie [data-enable-target]").on("click",(function(){this.checked?a("#"+this.dataset.enableTarget).attr("disabled",!1):a("#"+this.dataset.enableTarget).attr("disabled",!0)})),a("#BorlabsCookie [data-disable-target]").on("click",(function(){this.checked?a("#"+this.dataset.disableTarget).attr("disabled",!0):a("#"+this.dataset.disableTarget).attr("disabled",!1)})),a("#borlabsModalDelete").on("show.bs.modal",(function(e){a("body").css("overflow","auto"),a("#BorlabsCookie .container-fluid").css("filter","blur(2px)");for(var t=[],o=a(e.relatedTarget).closest("table").find("thead tr").children(":not([data-modal-ignore])"),s=a(e.relatedTarget).closest("tr").children(":not([data-modal-ignore])"),i=0;i<s.length;i++)t.push("<strong>"+o[i].innerHTML+"</strong>: "+s[i].innerHTML);a(this).find(".modal-body").html(t.join("<br>")),a(this).find("[data-confirm]")[0].href=e.relatedTarget.dataset.href})),a("#borlabsModalDelete").on("hide.bs.modal",(function(e){a("body").css("overflow",""),a("#BorlabsCookie .container-fluid").css("filter","blur(0px)")})),a("#borlabsModalTelemetry").on("show.bs.modal",(function(e){a("body").css("overflow","auto"),a("#telemetryStatus").length&&a(this).find("[data-confirm]").on("click",(function(){"0"==a("#telemetryStatus").val()&&a('#BorlabsCookie  [data-switch-target="telemetryStatus"]').click(),a("#borlabsModalTelemetry").modal("hide")})),a("#BorlabsCookie .container-fluid").css("filter","blur(2px)")})),a("#borlabsModalTelemetry").on("hide.bs.modal",(function(e){a("body").css("overflow",""),a("#BorlabsCookie .container-fluid").css("filter","blur(0px)")})),a("#BorlabsCookie [data-clipboard]").on("click",(function(){var e=this,t=!1,o=!1;a(this).addClass("clipboard-copied"),a("#"+this.dataset.clipboard)[0].disabled&&(t=!0),"none"===a("#"+this.dataset.clipboard)[0].style.display&&(o=!0),t&&a("#"+this.dataset.clipboard).attr("disabled",!1),o&&(a("#"+this.dataset.clipboard)[0].style.display="block"),a("#"+this.dataset.clipboard).select(),document.execCommand("copy"),t&&a("#"+this.dataset.clipboard).attr("disabled",!0),o&&(a("#"+this.dataset.clipboard)[0].style.display="none"),window.setTimeout((function(){a(e).removeClass("clipboard-copied")}),1e3)})),a("#BorlabsCookie [data-clipboard-universal]").on("click",(function(){var e=this;a(e).addClass("clipboard-copied"),a("<input>").attr({name:"brlbs-clipboard-helper",type:"text",value:e.innerHTML}).appendTo(e),a("input[name='brlbs-clipboard-helper']").select(),document.execCommand("copy"),a("input[name='brlbs-clipboard-helper']").remove(),e.dataset.clipboardUniversal&&a("#"+e.dataset.clipboardUniversal).val(e.innerHTML),window.setTimeout((function(){a(e).removeClass("clipboard-copied")}),1e3)})),a("#BorlabsCookie [data-add-page-source]").on("click",(function(){var e=this,t=a(this).find("i");a(t).addClass("fa-circle-notch fa-spin"),a(t).removeClass("fa-eye-slash"),a.ajax(ajaxurl,{type:"POST",data:{action:"borlabs_cookie_handler",type:"get_page",pageId:a("#"+e.dataset.addPageSource+" option:selected").val(),_ajax_nonce:borlabsCookieAdmin.ajax_nonce}}).done((function(o){if(void 0!==(o=a.parseJSON(o)).permalink){var s=a("#"+e.dataset.addPageTarget).val();o.permalink.length&&a("#"+e.dataset.addPageTarget).val(s+(s.length?"\n":"")+o.permalink)}a(t).addClass("fa-eye-slash"),a(t).removeClass("fa-circle-notch fa-spin")}))})),a("#BorlabsCookie [data-switch-target='telemetryStatus']").on("click",(function(){a("#BorlabsCookie span[data-borlabs-cookie-telemetry-saving]").fadeIn(),a.ajax(ajaxurl,{type:"POST",data:{action:"borlabs_cookie_handler",type:"save_telemetry_status",telemetryStatus:a("#telemetryStatus").val(),_ajax_nonce:borlabsCookieAdmin.ajax_nonce_save_telemetry_status}}).done((function(e){a("#BorlabsCookie span[data-borlabs-cookie-telemetry-saving]").fadeOut((function(){a("#BorlabsCookie span[data-borlabs-cookie-telemetry-saved]").fadeIn((function(){parseInt(a("#telemetryStatus").val())?a("#BorlabsCookie div[data-borlabs-cookie-telemetry-thank-you]").fadeIn():a("#BorlabsCookie div[data-borlabs-cookie-telemetry-thank-you]").fadeOut(),a("#BorlabsCookie span[data-borlabs-cookie-telemetry-saved]").fadeOut(1200)}))}))}))}));var t=function(e,t){a("#"+t).attr("class",a("option:selected",a("#"+e)).val()+" animated");var o="#"+t;window.setTimeout((function(){a(o).removeAttr("class")}),1500)};if(a("#BorlabsCookie [data-animation]").on("change",(function(){t(this.id,this.dataset.animation)})),a("#BorlabsCookie [data-repeat-animation]").on("click",(function(){t(this.dataset.repeatAnimation,a("#"+this.dataset.repeatAnimation)[0].dataset.animation)})),a("#BorlabsCookie [data-get-consent-history]").on("click",(function(){a("[data-borlabs-cookie-no-result]").slideUp(),a("[data-borlabs-cookie-result]").slideUp((function(){a("[data-borlabs-cookie-consent-history] [data-borlabs-cookie-loading]").slideDown((function(){a.ajax(ajaxurl,{type:"POST",data:{action:"borlabs_cookie_handler",type:"consent_history",language:a("#borlabsCookieUID")[0].dataset.borlabsCookieLanguage,uid:a("#borlabsCookieUID").val()}}).done((function(e){e.length?(e=a.parseJSON(e),a("[data-borlabs-cookie-result] table tbody").empty(),a.each(e,(function(e,t){a("[data-borlabs-cookie-result] table tbody").append("<tr><td>"+t.stamp+'</td><td class="text-center">'+t.version+"</td><td>"+t.consent+"</td></tr>")})),a("[data-borlabs-cookie-consent-history] [data-borlabs-cookie-loading]").slideUp((function(){a("[data-borlabs-cookie-result]").slideDown()}))):a("[data-borlabs-cookie-consent-history] [data-borlabs-cookie-loading]").slideUp((function(){a("[data-borlabs-cookie-no-result]").slideDown()}))}))}))}))})),a("[data-clean-up-consent-logs]").on("click",(function(){a("[data-total-consents] [data-borlabs-cookie-loading]").fadeIn((function(){a.ajax(ajaxurl,{type:"POST",data:{action:"borlabs_cookie_handler",type:"clean_up",_ajax_nonce:borlabsCookieAdmin.ajax_nonce_clean_up}}).done((function(e){a("[data-total-consents] [data-borlabs-cookie-loading]").fadeOut((function(){e.length&&(e=a.parseJSON(e),a("[data-total-consent-log-details]").html(e.total+" / "+e.size+" MiB"))}))}))}))})),a("[data-borlabs-cookie-scan-complete]").length){var o=function(e){a.ajax(ajaxurl,{type:"POST",data:{action:"borlabs_cookie_handler",type:"scan_javascripts",scanURL:a("input[name='scanURL']").val(),searchPhrases:a("input[name='searchPhrases']").val(),getScanResults:e,_ajax_nonce:borlabsCookieAdmin.ajax_nonce_scan_javascripts}}).done((function(e){!0===(e=a.parseJSON(e)).success?(a("[data-borlabs-cookie-loading]").slideUp(),a("[data-borlabs-cookie-scan-error]").slideUp(),a("[data-borlabs-cookie-scan-complete]").slideDown()):(!1===e.success&&void 0!==e.scanURLManually&&(a("[data-borlabs-cookie-scan-error] a")[0].href=e.scanURLManually,a("[data-borlabs-cookie-scan-error]").slideDown()),o(!0))}))};o(!1)}a("input[name^='blockPhrases[']").length&&(a(document).on("click","[data-switch-block-phrase]",(function(){var e=/([0-9]{1,})/.exec(this.dataset.switchTarget)[0];"object"==typeof a("#blockPhrase-"+e)?a(this).hasClass("active")?(a("#blockPhrase-"+e)[0].disabled=!1,a("#blockPhrase-"+e)[0].required=!0):(a("#blockPhrase-"+e)[0].disabled=!0,a("#blockPhrase-"+e)[0].required=!1,a("#blockPhrase-"+e).removeClass("is-valid"),a("#blockPhrase-"+e).removeClass("is-invalid")):console.log("Error blockPhrases handling")})),a(document).on("keyup","input[name^='blockPhrases[']",(function(){var e=/([0-9]{1,})/.exec(this.id)[0];a("#BorlabsCookieForm").removeClass("was-validated"),this.value.length&&"1"===a("input[name='blockScriptTags["+e+"]']").val()&&(-1!==a("#scriptTag-"+/([0-9]{1,})/.exec(this.id)[0]).val().indexOf(this.value)&&this.value.length>=5?(a(this).addClass("is-valid"),a(this).removeClass("is-invalid"),this.setCustomValidity("")):(a(this).addClass("is-invalid"),a(this).removeClass("is-valid"),this.setCustomValidity("Error")))}))),a("#borlabsCookieLanguageChooser").on("change",(function(){this.value&&(window.location.href=window.location.href+"&borlabsLang="+this.value)}))}}(jQuery)})),window.BorlabsCookieNoContentBlocker=!0;